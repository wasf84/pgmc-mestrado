Gere um fluxograma considerando os seguintes aspectos:

1. Processo para previsão de vazão de rios (variável endógena) com uso de variáveis exógenas de precipitação
2. Etapas do protocolo:
- Determinar o período em anos, meses, dias, que se deseja utilizar para treinamento dos modelos de previsão
- Identificar e coletar dados da estação-alvo de vazão que se deseja realizar previsão dentro do período especificado anteriormente
- Identificar estações de precipitação que estejam à montante até um raio de 50km a partir da estação-alvo, no mesmo período
- Verificar se há dados faltantes na estação de vazão e nas estações de precipitação. Se sim então preencher com a sazonalidade para aquele dia faltante a partir dos anos anteriores. Se não, continuar.
- Aplicar transformação logarítmica para retirar o comportamento de "cauda longa" dos dados
- Separar os dados do último ano da série temporal e reservar
- Separar os dados restantes em treino e teste
- Treinar os modelos LinearRegression, CatBoost e LightGBM
- Realizar otimização de hiperparâmetros dos modelos CatBoost e LightGBM
- Reproduzir o uso diário do modelo ao longo do ano inteiro anteriormente reservado (Walk Forward Validation)
- Avaliar os resultados

===========================

flowchart TD
    A[Definir período de análise] --> B[Identificar estação-alvo de vazão] --> C[Identificar estações de precipitação à montante até 50km]
    C --> D[Coletar dados de vazão e precipitação] --> E{Dados faltantes?}
    E -->|Sim| F[Preencher com sazonalidade]
    E -->|Não| G[Aplicar transformação logarítmica]
    F --> G
    G --> H[Separar dados do último ano] --> |dados restantes| I[Separar conjunto de treino e horizonte de previsão]
    H --> |usar como conjunto validação| M
    I --> J[Treinar modelos LinearRegression, CatBoost e LightGBM] --> K[Avaliar no horizonte de previsão]
    K --> L[Otimizar hiperparâmetros CatBoost e LightGBM]
    L --> |todos os dados exceto o último ano| M[Aplicar Walk Forward Validation] --> N[Avaliar resultados]

link:
https://mermaid.live/edit#pako:eNp9U8tu2kAU_ZXRrAmCGgPxolWAhKQhSdVErVTDYmRf8DT2XGs8JgmPf-ljUXXRZTfd-sd6PUNJWkVlxdWce16eWfMIY-ABn6d4FyVCG3YzmipGv6NwBHOppGY56OoHxshiYEJVn1NZwIwdHLxkg_AsBmXkXEZCMyiMqL5VX_FApEuLXooVjQ47fA77E4oal2uIZC5366z6xDJURihDgqb6zvzWbTZztoaWbBQOMQVDRLGIsXjUYv-SOfHj9cji5iK1tMWrraM7ro831zLbsJPwjQZQUQKaRZixQqxQiVSSAsyeoi-JdsPG4VGe2ixGC1XMUWc7-ykuBDVmMjrdLZ5YF2M3jO1wGl5DLvRjBMr9KzUyQyp5Z3vjjnTdVu16w872WxGqj6UytmejQao6e4JakmvqzbW6lEXdgdM9dZxlYbdJZ0-xtDGt-w27cOgzi34d3tTctJHRRUnJzEQqEPotLMhVIVE12FCYAWJhSH8iF4kZDy6c_fPwqGamZTL3X2vnFj8Jryi_XNFCIunWUdDqSwZGk-xzIm534mIZrKuqi7SdwX0ElOyvUinb_qO9F-ktO0F9J3TM3tn8htI445d74xSypCtDjDPe4BnQR5YxvZd1rT3lJoEMpjygv2ntasqnaktAURq8flARD4wuocE1louEB3T9CprKnMRgJMVCi-wPJBfqA-LTkQdrfs8Dz_ObrV7Pa7VbL3zvsNVt8AcetNtes9fz216_73cO-61Ob9vgK0vQbvp-p9vxO36f9rp-12twiKVBfeEeu33z2999k2Po
